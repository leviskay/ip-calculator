# Принципы работы LTI (Learning Tools Interoperability)

## Что такое LTI?

LTI (Learning Tools Interoperability) — это стандарт, разработанный IMS Global Learning Consortium, который позволяет интегрировать внешние инструменты (например, веб-приложения) с системами управления обучением (LMS), такими как Moodle, Canvas и другие. LTI обеспечивает безопасный обмен данными между LMS и внешним инструментом.

---

## Основные компоненты LTI

1. **Провайдер инструментов (Tool Provider)**:
   Это приложение или сервис, который предоставляет функциональность, интегрируемую в LMS. Например, ваш тренажер по работе с IP-адресами.

2. **Потребитель инструментов (Tool Consumer)**:
   Это LMS, которое взаимодействует с провайдером инструментов. Например, Moodle.

3. **OAuth 1.0**:
   Используется для аутентификации и авторизации запросов между LMS и внешним инструментом.

---

## Как работает LTI?

1. **Настройка инструмента в LMS**:

   - Администратор LMS добавляет инструмент, указывая URL для запуска, ключ потребителя (consumer key) и секрет (shared secret).

2. **Инициация LTI-запроса**:

   - Пользователь в LMS нажимает на ссылку для запуска инструмента.
   - LMS отправляет POST-запрос на указанный URL с параметрами, такими как `user_id`, `roles`, `context_id` и другими.

3. **Аутентификация запроса**:

   - Провайдер инструмента проверяет подпись OAuth 1.0, чтобы убедиться, что запрос исходит от доверенного LMS.

4. **Обработка данных**:

   - После успешной аутентификации провайдер инструмента может использовать переданные данные для персонализации интерфейса или выполнения других действий.

5. **Ответ на запрос**:
   - Провайдер инструмента возвращает HTML-страницу или другой контент, который отображается внутри LMS.

---

## Пример параметров LTI-запроса

- `user_id`: Уникальный идентификатор пользователя.
- `roles`: Роли пользователя (например, `Instructor`, `Learner`).
- `context_id`: Идентификатор курса или группы.
- `resource_link_id`: Уникальный идентификатор ресурса.
- `lis_person_name_full`: Полное имя пользователя.
- `lis_person_contact_email_primary`: Email пользователя.

---

## Преимущества LTI

1. **Универсальность**:
   LTI поддерживается большинством современных LMS.

2. **Безопасность**:
   Использование OAuth 1.0 обеспечивает безопасный обмен данными.

3. **Простота интеграции**:
   Инструменты можно легко подключать к LMS без необходимости сложной настройки.

4. **Персонализация**:
   Передача данных о пользователе позволяет адаптировать инструмент под конкретного пользователя.

---

## Пример использования LTI в вашем проекте

Ваш тренажер по работе с IP-адресами может быть интегрирован в Moodle как LTI-инструмент. Это позволит преподавателям добавлять его в курсы, а студенты смогут запускать тренажер прямо из интерфейса Moodle. При этом тренажер сможет получать данные о пользователе и курсе для персонализации.

---

## Ресурсы для изучения

- [Официальная документация IMS LTI](https://www.imsglobal.org/activity/learning-tools-interoperability)
- [Документация Moodle по LTI](https://docs.moodle.org/)
